{"pageProps":{"note":{"id":"7nfzlz7xasxx9zgbvv4n7kl","title":"Designing Component Libraries","desc":"","updated":1659667582265,"created":1659665719842,"custom":{},"fname":"reference.dev.react.designing-component-libraries","type":"note","vault":{"fsPath":".","name":"digital-garden","selfContained":true},"contentHash":"5625bfd92bf2b81c71d91ea3f4581ae5","links":[{"type":"wiki","from":{"fname":"reference.dev.react.designing-component-libraries","id":"7nfzlz7xasxx9zgbvv4n7kl","vaultName":"digital-garden"},"value":"ideas-thoughts-beliefs.software-development.illegal-states-should-be-unrepresentable","position":{"start":{"line":9,"column":17,"offset":393},"end":{"line":9,"column":105,"offset":481},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"ideas-thoughts-beliefs.software-development.illegal-states-should-be-unrepresentable"}},{"from":{"fname":"reference.checklists.ui-components","id":"hmpjvyk0nogfuxb01ux2tuq","vaultName":"digital-garden"},"type":"backlink","position":{"start":{"line":2,"column":9,"offset":24},"end":{"line":2,"column":62,"offset":77},"indent":[]},"value":"reference.dev.react.designing-component-libraries"}],"anchors":{"designing-component-libraries":{"type":"header","text":"Designing Component Libraries","value":"designing-component-libraries","line":7,"column":0,"depth":1},"interface":{"type":"header","text":"Interface","value":"interface","line":11,"column":0,"depth":2},"layout":{"type":"header","text":"Layout","value":"layout","line":33,"column":0,"depth":2},"release--maintenance":{"type":"header","text":"Release & Maintenance","value":"release--maintenance","line":40,"column":0,"depth":2},"other":{"type":"header","text":"Other","value":"other","line":49,"column":0,"depth":2}},"children":[],"parent":"fu0mova0owp1sk7rqe51ewa","data":{}},"body":"<h1 id=\"designing-component-libraries\">Designing Component Libraries<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#designing-component-libraries\"></a></h1>\n<p><strong>Source:</strong> <a href=\"https://www.gabe.pizza/notes-on-component-libraries/\">Gabe's blog - Notes on maintaining an internal React component library</a></p>\n<h2 id=\"interface\">Interface<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#interface\"></a></h2>\n<ul>\n<li>Components should be blackboxes for the parents who use them\n<ul>\n<li>Props in -> Rendered content out</li>\n</ul>\n</li>\n<li>Design components with orthogonal props that allow to represent all valid display states\n<ul>\n<li>If possible <a href=\"/digital-garden/notes/ob7ihfvw9eqrill5n7jidim\">Illegal states should be unrepresentable</a></li>\n</ul>\n</li>\n<li>Don't extend base props - only offer the minimal real interface you need\n<ul>\n<li>This is also true for pass-through override props to modify internal subcomponents like <code>ButtonProps</code>\n<ul>\n<li>Offer minimal interfaces for them too, don't just use the original full props type</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Don't use spread (<code>...props</code>) to blanket forward props from above</li>\n<li>If possible don't offer class/style props\n<ul>\n<li>Use something explicit like <code>UNSAFE_className</code> / <code>UNSAFE_style</code> to at least give an escape hatch but make it easy to\nfind and maybe use a linter for it</li>\n</ul>\n</li>\n<li>Use Context internally for linking dependent props\n<ul>\n<li>Example: Select Group parent that has the selected state as context and Select Group item that consumes it</li>\n</ul>\n</li>\n<li>Group components that belong together as a single object - the user will know they are supposed to be used together\n<pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword module\">export</span> <span class=\"token keyword\">const</span> <span class=\"token maybe-class-name\">Select</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token maybe-class-name\">Menu</span><span class=\"token operator\">:</span> <span class=\"token maybe-class-name\">SelectMenu</span><span class=\"token punctuation\">,</span>\n  <span class=\"token maybe-class-name\">Option</span><span class=\"token operator\">:</span> <span class=\"token maybe-class-name\">SelectOption</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre>\n</li>\n</ul>\n<h2 id=\"layout\">Layout<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#layout\"></a></h2>\n<ul>\n<li>Don't let components position or add external margins to themselves\n<ul>\n<li>This is the parent's responsibility</li>\n</ul>\n</li>\n<li>Components should take up all horizontal space by default\n<ul>\n<li>Container components are the exception, since they usually span to fit the width of their contents (or up to the\nparent containers width)</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"release--maintenance\">Release &#x26; Maintenance<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#release--maintenance\"></a></h2>\n<ul>\n<li>Use proper semantic versioning - apply deprecations only at major version bumps</li>\n<li>Use codemods if possible to automate source code changes\n<ul>\n<li>Make sure codemods are idempotent</li>\n</ul>\n</li>\n<li>Statically analyze source code bases using the library (parsing code into ASTs etc) to know how the components are\nused to get interesting insights</li>\n<li>Use visual regression tests rather than unit tests\n<ul>\n<li>This can be annoying because of OS rendering differences</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"other\">Other<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#other\"></a></h2>\n<ul>\n<li>Don't write your own abstractions over browser differences - there are good libraries for that</li>\n</ul>\n<hr>\n<strong>Backlinks</strong>\n<ul>\n<li><a href=\"/digital-garden/notes/hmpjvyk0nogfuxb01ux2tuq\">UI Components</a></li>\n</ul>","noteIndex":{"id":"w4mxpqpj9ftyo6pw17k3wj6","title":"Home","desc":"","updated":1660372010574,"created":1648806032875,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":".","name":"digital-garden","selfContained":true},"contentHash":"0d5b5a84c07edaf83aeeab9a0b1a2b42","links":[{"type":"wiki","from":{"fname":"root","id":"w4mxpqpj9ftyo6pw17k3wj6","vaultName":"digital-garden"},"value":"contact_me","position":{"start":{"line":10,"column":55,"offset":331},"end":{"line":10,"column":69,"offset":345},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"contact_me"}},{"type":"wiki","from":{"fname":"root","id":"w4mxpqpj9ftyo6pw17k3wj6","vaultName":"digital-garden"},"value":"areas.gamedev","position":{"start":{"line":14,"column":3,"offset":402},"end":{"line":14,"column":20,"offset":419},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"areas.gamedev"}},{"type":"wiki","from":{"fname":"root","id":"w4mxpqpj9ftyo6pw17k3wj6","vaultName":"digital-garden"},"value":"areas.software-development","position":{"start":{"line":15,"column":3,"offset":422},"end":{"line":15,"column":33,"offset":452},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"areas.software-development"}},{"type":"wiki","from":{"fname":"root","id":"w4mxpqpj9ftyo6pw17k3wj6","vaultName":"digital-garden"},"value":"reference.faith-and-work","position":{"start":{"line":17,"column":5,"offset":517},"end":{"line":17,"column":33,"offset":545},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"reference.faith-and-work"}},{"type":"wiki","from":{"fname":"root","id":"w4mxpqpj9ftyo6pw17k3wj6","vaultName":"digital-garden"},"value":"reference.adhd","position":{"start":{"line":19,"column":3,"offset":583},"end":{"line":19,"column":21,"offset":601},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"reference.adhd"}},{"type":"wiki","from":{"fname":"root","id":"w4mxpqpj9ftyo6pw17k3wj6","vaultName":"digital-garden"},"value":"areas.pkm","alias":"Personal Knowledge Management (PKM)","position":{"start":{"line":20,"column":3,"offset":604},"end":{"line":20,"column":52,"offset":653},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"areas.pkm"}}],"anchors":{"welcome-to-my-little-corner-of-the-internet":{"type":"header","text":"Welcome to my little corner of the internet","value":"welcome-to-my-little-corner-of-the-internet","line":7,"column":0,"depth":1},"topics-i-care-about":{"type":"header","text":"Topics I care about","value":"topics-i-care-about","line":19,"column":0,"depth":2},"media-i-enjoy":{"type":"header","text":"Media I enjoy","value":"media-i-enjoy","line":28,"column":0,"depth":2}},"children":["ckpt5dqzm4fv2ysnyyqi5q7","qexkgwym6yebjwrl1pz2wco","contact_me","gk4xjszil72ursnl10ui5ht","tu102fn6psvc3ef33p2jl5p","426vv89cwpwrk3pezm4idax","ceagbmx4k3i5sokhd3n8iyf","43bj5hyl41q0txr2e0rhcaw","sjq1fqcpyomz6hii19blfsh","krioclkr3atix89tw0300y8","5j5jqiz50loi24n5r18y9kd","hn6qnp0te5vs8l76eik6o4c"],"parent":null,"data":{},"body":"# Welcome to my little corner of the internet\n\nHey, everyone!\n\nI'm Kevin and this page is my own shot at a Digital Garden[^1].\n\nThis is a low-barrier[^2] experiment for myself to organize my thoughts and publish content and maybe find like-minded\nindividuals to connect with.\n\nThis space will slowly evolve over time. Feel free to [[contact_me]] if you want to get in touch.\n\n\n## Topics I care about\n- [[areas.gamedev]]\n- [[areas.software-development]]\n- Christian Faith and how it relates to several other areas\n  - [[reference.faith-and-work]]\n  - Faith and Creativity/Art/Media\n- [[reference.adhd]]\n- [[Personal Knowledge Management (PKM)|areas.pkm]]\n\n## Media I enjoy\n- ðŸ‡¯ðŸ‡µ Anime/Manga\n  - Steins;Gate\n  - Attack on Titan\n  - Death Note\n- ðŸ“º TV Series\n  - Twelve Monkeys\n  - Dark\n  - Deep Space 9\n- ðŸŽ¥ Movies\n  - Big Fish\n  - Memento\n- ðŸ“– Books\n  - Das Haus der Geschichten (Thomas Franke)\n  - The Screwtape Letters (C.S. Lewis)\n- ðŸŽ® Video Games\n  - Secret of Mana (SNES)\n  - Outer Wilds\n  - Undertale\n\n\n[^1]: I recommend the explanation on [Joschua's Garden](https://joschuasgarden.com/Digital+garden) and his digital garden in general.\n\n[^2]: I personally thought several times about starting a blog for sharing game development, software engineering tidbits/ramblings but my tendency for perfectionism especially with regard to minor details like names, design, style as well as the perceived pressure of having to regularly output some kind of meaningful content stopped me from actually going through with it until now.\n"},"collectionChildren":null,"customHeadContent":"<link rel=\"alternate\" type=\"application/atom+xml\" href=\"https://kfischer-okarin.github.io/digital-garden/feed.xml\">\n","config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":true,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"enableFullHierarchyNoteTitle":false,"vaults":[{"fsPath":".","name":"digital-garden","selfContained":true}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":false,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800},"preview":{"enableFMTitle":false,"enableNoteTitleForLink":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false},"publishing":{"siteUrl":"https://kfischer-okarin.github.io","assetsPrefix":"/digital-garden","customHeaderPath":"header.html","enableFMTitle":false,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"My Digital Garden","description":"Kevin Fischer's Digital Garden.","author":"Kevin Fischer"},"github":{"enableEditLink":false,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enablePrettyLinks":true,"enableTaskNotes":true,"searchMode":"lookup","siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true}