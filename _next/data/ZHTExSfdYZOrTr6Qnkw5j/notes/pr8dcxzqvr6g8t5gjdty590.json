{"pageProps":{"note":{"id":"pr8dcxzqvr6g8t5gjdty590","title":"Implementing Domain Driven Design","desc":"","updated":1660926280035,"created":1657942831470,"custom":{},"fname":"reference.literature-notes.implementing-domain-driven-design","type":"note","vault":{"fsPath":".","name":"digital-garden","selfContained":true},"contentHash":"e3bbf28aa8d0f665bd8deb8c0239897f","links":[],"anchors":{"implementing-domain-driven-design-vaughn-vernon":{"type":"header","text":"Implementing Domain Driven Design (Vaughn Vernon)","value":"implementing-domain-driven-design-vaughn-vernon","line":8,"column":0,"depth":1},"my-summary":{"type":"header","text":"My Summary","value":"my-summary","line":14,"column":0,"depth":2},"entity":{"type":"header","text":"Entity","value":"entity","line":18,"column":0,"depth":2},"value-objects":{"type":"header","text":"Value Objects","value":"value-objects","line":21,"column":0,"depth":2},"domain-service":{"type":"header","text":"Domain Service","value":"domain-service","line":29,"column":0,"depth":2},"domain-events":{"type":"header","text":"Domain Events","value":"domain-events","line":36,"column":0,"depth":2},"aggregates":{"type":"header","text":"Aggregates","value":"aggregates","line":49,"column":0,"depth":2},"factories":{"type":"header","text":"Factories","value":"factories","line":63,"column":0,"depth":2},"repositories":{"type":"header","text":"Repositories","value":"repositories","line":75,"column":0,"depth":2},"integrating-bounded-contexts":{"type":"header","text":"Integrating Bounded Contexts","value":"integrating-bounded-contexts","line":86,"column":0,"depth":2},"ui":{"type":"header","text":"UI","value":"ui","line":90,"column":0,"depth":2},"application-service":{"type":"header","text":"Application service","value":"application-service","line":97,"column":0,"depth":2},"infrastructure":{"type":"header","text":"Infrastructure","value":"infrastructure","line":106,"column":0,"depth":2},"event-sourcing":{"type":"header","text":"Event Sourcing","value":"event-sourcing","line":111,"column":0,"depth":2},"my-questions-thoughts-comments":{"type":"header","text":"My Questions, Thoughts, Comments","value":"my-questions-thoughts-comments","line":126,"column":0,"depth":2}},"children":[],"parent":"3py39wn744dk1jzjl6onij3","data":{},"schema":{"schemaId":"j6hkamrk5ztc409qoxyb4jn","moduleId":"reference"}},"body":"<h1 id=\"implementing-domain-driven-design-vaughn-vernon\">Implementing Domain Driven Design (Vaughn Vernon)<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#implementing-domain-driven-design-vaughn-vernon\"></a></h1>\n<p><img src=\"https://m.media-amazon.com/images/P/0321834577.01._SCLZZZZZZZ_SX500_.jpg\" alt=\"Book cover\" style=\"height:200px;;\"></p>\n<p><a href=\"https://www.amazon.com/Implementing-Domain-Driven-Design-Vaughn-Vernon/dp/0321834577\">Amazon</a></p>\n<h2 id=\"my-summary\">My Summary<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#my-summary\"></a></h2>\n<hr>\n<h2 id=\"entity\">Entity<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#entity\"></a></h2>\n<ul>\n<li>Something that changes over time</li>\n</ul>\n<h2 id=\"value-objects\">Value Objects<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#value-objects\"></a></h2>\n<ul>\n<li>Value object is a description of something</li>\n<li>Use Value objects where possible</li>\n<li>If it has to change... think if it's possible to \"replace\" it instead</li>\n<li>Separate it from the Persistence layer!\n<ul>\n<li>Sometimes you have to store it as records - but don't let that influence your domain model</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"domain-service\">Domain Service<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#domain-service\"></a></h2>\n<ul>\n<li>Calculation process\n<ul>\n<li>Involving several aggregrates</li>\n<li>Using repositories</li>\n</ul>\n</li>\n<li>Transformation processes\n<ul>\n<li>See Adapters, Ports (Hexagonal Architecture) in Integrating Contexts</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"domain-events\">Domain Events<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#domain-events\"></a></h2>\n<ul>\n<li>When something important happens publish a domain event\n<ul>\n<li>Immutable</li>\n<li>Contains timestamp</li>\n<li>Contains all necessary information to re-execute the same action (the ids of the involved aggregates)</li>\n</ul>\n</li>\n<li>Event Store: Store it in a special db table/list\n<ul>\n<li>Must be in the same transaction as the actual change happening</li>\n<li>have message publisher read that store to process/publish events</li>\n</ul>\n</li>\n<li>Publishing events\n<ul>\n<li>Event Endpoint\n<ul>\n<li>Like an Atom Feed</li>\n<li>Use constant URLs for certain event ranges (e.g. /events/60,79) and make effective use of caching</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"aggregates\">Aggregates<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#aggregates\"></a></h2>\n<ul>\n<li>Aggregates = Groups of Entities and Value objects accessed via a common interface (the Root Entity)</li>\n<li>Internal construction, value modifications should be hidden inside Root method implementations</li>\n<li>Each aggregate is a transactional boundary:\n<ul>\n<li>Everything that must change together should be inside one aggregate</li>\n</ul>\n</li>\n<li>Build as small aggregates as possible!!!</li>\n<li>Reference other aggregates only via id</li>\n<li>If other Aggregates need to change in response to an aggregate changing do it asynchronously\n<ul>\n<li>Use eventually consistency where possible. Transactional boundaries are often smaller than one thinks!\n<ul>\n<li>Does it really need to be 100% immediately consistent?</li>\n<li>Imagine how the business would happen without the application... Just transmitting the information to the next\nworkflow would take some time</li>\n</ul>\n</li>\n<li>Publish an event from Aggregate A &#x26; subscribe to it from the other Aggregates</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"factories\">Factories<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#factories\"></a></h2>\n<ul>\n<li>Factory methods on Aggregate classes to create related aggregates\n<ul>\n<li>Use this to create internally consistent objects (like with the correct association which should not be left\nto the client)\n<ul>\n<li>Ensure that the object has the correct parent etc</li>\n</ul>\n</li>\n<li>Use method names that express real use cases in the language</li>\n<li><code>Forum.start_discussion</code>, <code>Tenant.register_user</code> etc</li>\n</ul>\n</li>\n<li>Factory Methods on Services that integrate other contexts\n<ul>\n<li>Example: A Service that encapsulates the connection to the Authentication Context, which creates Author, Creator,\nModerator, etc objects</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"repositories\">Repositories<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#repositories\"></a></h2>\n<ul>\n<li>Stores Aggregates behind a in memory collection interface</li>\n<li>Collection style stores\n<ul>\n<li>No explicit save calls but one of:\n<ul>\n<li>Track changes and then at some point later persist them</li>\n<li>Wrap the returned object in a persistence backed decorator</li>\n</ul>\n</li>\n<li>Adding means storing</li>\n</ul>\n</li>\n<li>Persistence style stores\n<ul>\n<li>Explicit save calls</li>\n</ul>\n</li>\n<li>Collection style is preferable but not always feasible</li>\n</ul>\n<h2 id=\"integrating-bounded-contexts\">Integrating Bounded Contexts<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#integrating-bounded-contexts\"></a></h2>\n<ul>\n<li>When using message services - make your event handlers idempotent if any possible - since a message could always be\ndelivered several times</li>\n</ul>\n<h2 id=\"ui\">UI<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#ui\"></a></h2>\n<ul>\n<li>Should manipulate <strong>one</strong> aggregate at a time (aggregate == transaction boundary)</li>\n<li>Might need several aggregates for context</li>\n<li>When you use Rest Resources (or any kind of data representation for the UI) then design them around use cases <strong>not</strong>\naround the actual aggregates\n<ul>\n<li>Keep UI and data structures decoupled</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"application-service\">Application service<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#application-service\"></a></h2>\n<ul>\n<li>Used by the UI to actually do things</li>\n<li>Uses domain services to realize the use cases</li>\n<li>Think about outgoing interfaces:\n<ul>\n<li>Do you want to expose domain models (i.e. add dependencies to it) as return types etc?</li>\n<li>Or do you want the overhead of DTOs?</li>\n</ul>\n</li>\n<li>Can be used to integrate several contexts for UI but if this is repeatedly happening and starting to contain some\nlogic you should think about possibly extracting a new downstream context</li>\n</ul>\n<h2 id=\"infrastructure\">Infrastructure<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#infrastructure\"></a></h2>\n<ul>\n<li>Concrete implementations of interfaces for technical capabilities like storage, messaging etc</li>\n<li>Injected into/passed to application services</li>\n<li>Ports/Adapters in Hexagonal Design</li>\n</ul>\n<h2 id=\"event-sourcing\">Event Sourcing<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#event-sourcing\"></a></h2>\n<ul>\n<li>Store your whole data only as a collection of events that happened and reconstruct your aggregates (or for that\nmatter any kind of read representation) by processing all events so far</li>\n<li>Events are immutable</li>\n<li>Reading data structures should be cached (for example every 100 events) and are freely disposable</li>\n<li>For events that are also consumed as domain events by listeners (possibly from other contexts) it might be smart to\ninclude additional properties in the published event that are not explicitly needed to reconstruct the state to avoid\nsecondary queries for more information</li>\n<li>Is natural to implement with functional programming\n<ul>\n<li>Aggregate + Event -> Aggregate</li>\n<li>Aggregate + Command -> Event[]</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"my-questions-thoughts-comments\">My Questions, Thoughts, Comments<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#my-questions-thoughts-comments\"></a></h2>","noteIndex":{"id":"w4mxpqpj9ftyo6pw17k3wj6","title":"Home","desc":"","updated":1660372010574,"created":1648806032875,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":".","name":"digital-garden","selfContained":true},"contentHash":"0d5b5a84c07edaf83aeeab9a0b1a2b42","links":[{"type":"wiki","from":{"fname":"root","id":"w4mxpqpj9ftyo6pw17k3wj6","vaultName":"digital-garden"},"value":"contact_me","position":{"start":{"line":10,"column":55,"offset":331},"end":{"line":10,"column":69,"offset":345},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"contact_me"}},{"type":"wiki","from":{"fname":"root","id":"w4mxpqpj9ftyo6pw17k3wj6","vaultName":"digital-garden"},"value":"areas.gamedev","position":{"start":{"line":14,"column":3,"offset":402},"end":{"line":14,"column":20,"offset":419},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"areas.gamedev"}},{"type":"wiki","from":{"fname":"root","id":"w4mxpqpj9ftyo6pw17k3wj6","vaultName":"digital-garden"},"value":"areas.software-development","position":{"start":{"line":15,"column":3,"offset":422},"end":{"line":15,"column":33,"offset":452},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"areas.software-development"}},{"type":"wiki","from":{"fname":"root","id":"w4mxpqpj9ftyo6pw17k3wj6","vaultName":"digital-garden"},"value":"reference.faith-and-work","position":{"start":{"line":17,"column":5,"offset":517},"end":{"line":17,"column":33,"offset":545},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"reference.faith-and-work"}},{"type":"wiki","from":{"fname":"root","id":"w4mxpqpj9ftyo6pw17k3wj6","vaultName":"digital-garden"},"value":"reference.adhd","position":{"start":{"line":19,"column":3,"offset":583},"end":{"line":19,"column":21,"offset":601},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"reference.adhd"}},{"type":"wiki","from":{"fname":"root","id":"w4mxpqpj9ftyo6pw17k3wj6","vaultName":"digital-garden"},"value":"areas.pkm","alias":"Personal Knowledge Management (PKM)","position":{"start":{"line":20,"column":3,"offset":604},"end":{"line":20,"column":52,"offset":653},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"areas.pkm"}}],"anchors":{"welcome-to-my-little-corner-of-the-internet":{"type":"header","text":"Welcome to my little corner of the internet","value":"welcome-to-my-little-corner-of-the-internet","line":7,"column":0,"depth":1},"topics-i-care-about":{"type":"header","text":"Topics I care about","value":"topics-i-care-about","line":19,"column":0,"depth":2},"media-i-enjoy":{"type":"header","text":"Media I enjoy","value":"media-i-enjoy","line":28,"column":0,"depth":2}},"children":["ckpt5dqzm4fv2ysnyyqi5q7","qexkgwym6yebjwrl1pz2wco","contact_me","gk4xjszil72ursnl10ui5ht","tu102fn6psvc3ef33p2jl5p","426vv89cwpwrk3pezm4idax","ceagbmx4k3i5sokhd3n8iyf","43bj5hyl41q0txr2e0rhcaw","sjq1fqcpyomz6hii19blfsh","krioclkr3atix89tw0300y8","5j5jqiz50loi24n5r18y9kd","hn6qnp0te5vs8l76eik6o4c"],"parent":null,"data":{},"body":"# Welcome to my little corner of the internet\n\nHey, everyone!\n\nI'm Kevin and this page is my own shot at a Digital Garden[^1].\n\nThis is a low-barrier[^2] experiment for myself to organize my thoughts and publish content and maybe find like-minded\nindividuals to connect with.\n\nThis space will slowly evolve over time. Feel free to [[contact_me]] if you want to get in touch.\n\n\n## Topics I care about\n- [[areas.gamedev]]\n- [[areas.software-development]]\n- Christian Faith and how it relates to several other areas\n  - [[reference.faith-and-work]]\n  - Faith and Creativity/Art/Media\n- [[reference.adhd]]\n- [[Personal Knowledge Management (PKM)|areas.pkm]]\n\n## Media I enjoy\n- 🇯🇵 Anime/Manga\n  - Steins;Gate\n  - Attack on Titan\n  - Death Note\n- 📺 TV Series\n  - Twelve Monkeys\n  - Dark\n  - Deep Space 9\n- 🎥 Movies\n  - Big Fish\n  - Memento\n- 📖 Books\n  - Das Haus der Geschichten (Thomas Franke)\n  - The Screwtape Letters (C.S. Lewis)\n- 🎮 Video Games\n  - Secret of Mana (SNES)\n  - Outer Wilds\n  - Undertale\n\n\n[^1]: I recommend the explanation on [Joschua's Garden](https://joschuasgarden.com/Digital+garden) and his digital garden in general.\n\n[^2]: I personally thought several times about starting a blog for sharing game development, software engineering tidbits/ramblings but my tendency for perfectionism especially with regard to minor details like names, design, style as well as the perceived pressure of having to regularly output some kind of meaningful content stopped me from actually going through with it until now.\n"},"collectionChildren":null,"customHeadContent":"<link rel=\"alternate\" type=\"application/atom+xml\" href=\"https://kfischer-okarin.github.io/digital-garden/feed.xml\">\n","config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":true,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"enableFullHierarchyNoteTitle":false,"vaults":[{"fsPath":".","name":"digital-garden","selfContained":true}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":false,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800},"preview":{"enableFMTitle":false,"enableNoteTitleForLink":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false},"publishing":{"siteUrl":"https://kfischer-okarin.github.io","assetsPrefix":"/digital-garden","customHeaderPath":"header.html","enableFMTitle":false,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"My Digital Garden","description":"Kevin Fischer's Digital Garden.","author":"Kevin Fischer"},"github":{"enableEditLink":false,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enablePrettyLinks":true,"enableTaskNotes":true,"searchMode":"lookup","siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true}