<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/digital-garden/favicon.ico"/><title>Upload a File via API</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Kevin Fischer&#x27;s Digital Garden."/><meta property="og:title" content="Upload a File via API"/><meta property="og:description" content="Kevin Fischer&#x27;s Digital Garden."/><meta property="og:url" content="https://kfischer-okarin.github.io/digital-garden/notes/ry9md2mwrea2w43pn4czmws/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="8/31/2022"/><meta property="article:modified_time" content="8/31/2022"/><link rel="canonical" href="https://kfischer-okarin.github.io/digital-garden/notes/ry9md2mwrea2w43pn4czmws/"/><link rel="alternate" type="application/atom+xml" href="https://kfischer-okarin.github.io/digital-garden/feed.xml"/><meta name="next-head-count" content="15"/><link rel="preload" href="/digital-garden/_next/static/css/caa87292aeb9e4dd.css" as="style"/><link rel="stylesheet" href="/digital-garden/_next/static/css/caa87292aeb9e4dd.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/digital-garden/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/digital-garden/_next/static/chunks/webpack-9b44dd033dc5a33d.js" defer=""></script><script src="/digital-garden/_next/static/chunks/framework-28c999baf2863c3d.js" defer=""></script><script src="/digital-garden/_next/static/chunks/main-84ee3c869fba1bf0.js" defer=""></script><script src="/digital-garden/_next/static/chunks/pages/_app-3bf77397468264ea.js" defer=""></script><script src="/digital-garden/_next/static/chunks/935-4dee79e80b8641c6.js" defer=""></script><script src="/digital-garden/_next/static/chunks/6-50972def09142ee2.js" defer=""></script><script src="/digital-garden/_next/static/chunks/pages/notes/%5Bid%5D-78d472fa3b924116.js" defer=""></script><script src="/digital-garden/_next/static/ZHTExSfdYZOrTr6Qnkw5j/_buildManifest.js" defer=""></script><script src="/digital-garden/_next/static/ZHTExSfdYZOrTr6Qnkw5j/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><main class="ant-layout-content side-layout-main" style="max-width:1200px;min-width:0;display:block"><div style="padding:0 24px"><div class="main-content" role="main"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="upload-a-file-via-api">Upload a File via API<a aria-hidden="true" class="anchor-heading icon-link" href="#upload-a-file-via-api"></a></h1>
<h2 id="one-time-preparation-create-a-dropbox-app">One-Time Preparation: Create a Dropbox App<a aria-hidden="true" class="anchor-heading icon-link" href="#one-time-preparation-create-a-dropbox-app"></a></h2>
<ul>
<li><a href="https://www.dropbox.com/developers/apps/create">Create a Dropbox App</a> which has at least the permission
<code>file.content.write</code></li>
<li>Write down the App key (<code>APP_KEY</code>) and App secret (<code>APP_SECRET</code>)</li>
</ul>
<h2 id="one-time-preparation-get-a-oauth-20-refresh-token">One-Time Preparation: Get a OAuth 2.0 Refresh Token<a aria-hidden="true" class="anchor-heading icon-link" href="#one-time-preparation-get-a-oauth-20-refresh-token"></a></h2>
<ul>
<li>Open the url
<pre><code>https://www.dropbox.com/oauth2/authorize?client_id=&#x3C;APP_KEY>&#x26;token_access_type=offline&#x26;response_type=code
</code></pre>
and authorize the App.</li>
<li>Write down the authorization code (<code>AUTHORIZATION_CODE</code>)</li>
<li>Retrieve a refresh token
<pre class="language-sh"><code class="language-sh">curl https://api.dropbox.com/oauth2/token \
     -d code=&#x3C;AUTHORIZATION_CODE> \
     -d grant_type=authorization_code \
     -u &#x3C;APP_KEY>:&#x3C;APP_SECRET>
</code></pre>
The response will contain the refresh token at the JSON key <code>"refresh_token"</code>. Write it down (<code>REFRESH_TOKEN</code>)</li>
</ul>
<h2 id="uploading-the-file">Uploading the File<a aria-hidden="true" class="anchor-heading icon-link" href="#uploading-the-file"></a></h2>
<ul>
<li>Get an up-to-date access token
<pre class="language-sh"><code class="language-sh">curl https://api.dropbox.com/oauth2/token \
     -d grant_type=refresh_token \
     -d refresh_token=&#x3C;REFRESH_TOKEN> \
     -u &#x3C;APP_KEY>:&#x3C;APP_SECRET>
</code></pre>
The access token will be returned at the JSON key <code>"access_token"</code>. Write it down (<code>ACCESS_TOKEN</code>).</li>
<li>Upload the file
<pre class="language-sh"><code class="language-sh">curl -X POST https://content.dropboxapi.com/2/files/upload \
     --header "Authorization: Bearer &#x3C;ACCESS_TOKEN>" \
     --header "Dropbox-API-Arg: {\"path\":\"/Path/To/Dropbox/Destination\",\"mode\":\"overwrite\",\"mute\":true}" \
     --header "Content-Type: application/octet-stream" \
     --data-binary @path/to/file/to/upload
</code></pre>
You can reuse the access token as long as it is valid</li>
</ul></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#upload-a-file-via-api" title="Upload a File via API">Upload a File via API</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#one-time-preparation-create-a-dropbox-app" title="One-Time Preparation: Create a Dropbox App">One-Time Preparation: Create a Dropbox App</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#one-time-preparation-get-a-oauth-20-refresh-token" title="One-Time Preparation: Get a OAuth 2.0 Refresh Token">One-Time Preparation: Get a OAuth 2.0 Refresh Token</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#uploading-the-file" title="Uploading the File">Uploading the File</a></div></div></div></div></div></div></div></div></div></div></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></main></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"ry9md2mwrea2w43pn4czmws","title":"Upload a File via API","desc":"","updated":1661954652837,"created":1661953931372,"custom":{},"fname":"reference.tools.dropbox.how-to.upload-a-file-via-api","type":"note","vault":{"fsPath":".","name":"digital-garden","selfContained":true},"contentHash":"31ab0e22af71ca98e13b1d03609d29cd","links":[],"anchors":{"upload-a-file-via-api":{"type":"header","text":"Upload a File via API","value":"upload-a-file-via-api","line":7,"column":0,"depth":1},"one-time-preparation-create-a-dropbox-app":{"type":"header","text":"One-Time Preparation: Create a Dropbox App","value":"one-time-preparation-create-a-dropbox-app","line":9,"column":0,"depth":2},"one-time-preparation-get-a-oauth-20-refresh-token":{"type":"header","text":"One-Time Preparation: Get a OAuth 2.0 Refresh Token","value":"one-time-preparation-get-a-oauth-20-refresh-token","line":14,"column":0,"depth":2},"uploading-the-file":{"type":"header","text":"Uploading the File","value":"uploading-the-file","line":30,"column":0,"depth":2}},"children":[],"parent":"f9rf71j8ncs1d0m5me4a3x8","data":{}},"body":"\u003ch1 id=\"upload-a-file-via-api\"\u003eUpload a File via API\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#upload-a-file-via-api\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003ch2 id=\"one-time-preparation-create-a-dropbox-app\"\u003eOne-Time Preparation: Create a Dropbox App\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#one-time-preparation-create-a-dropbox-app\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://www.dropbox.com/developers/apps/create\"\u003eCreate a Dropbox App\u003c/a\u003e which has at least the permission\n\u003ccode\u003efile.content.write\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eWrite down the App key (\u003ccode\u003eAPP_KEY\u003c/code\u003e) and App secret (\u003ccode\u003eAPP_SECRET\u003c/code\u003e)\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"one-time-preparation-get-a-oauth-20-refresh-token\"\u003eOne-Time Preparation: Get a OAuth 2.0 Refresh Token\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#one-time-preparation-get-a-oauth-20-refresh-token\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eOpen the url\n\u003cpre\u003e\u003ccode\u003ehttps://www.dropbox.com/oauth2/authorize?client_id=\u0026#x3C;APP_KEY\u003e\u0026#x26;token_access_type=offline\u0026#x26;response_type=code\n\u003c/code\u003e\u003c/pre\u003e\nand authorize the App.\u003c/li\u003e\n\u003cli\u003eWrite down the authorization code (\u003ccode\u003eAUTHORIZATION_CODE\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003eRetrieve a refresh token\n\u003cpre class=\"language-sh\"\u003e\u003ccode class=\"language-sh\"\u003ecurl https://api.dropbox.com/oauth2/token \\\n     -d code=\u0026#x3C;AUTHORIZATION_CODE\u003e \\\n     -d grant_type=authorization_code \\\n     -u \u0026#x3C;APP_KEY\u003e:\u0026#x3C;APP_SECRET\u003e\n\u003c/code\u003e\u003c/pre\u003e\nThe response will contain the refresh token at the JSON key \u003ccode\u003e\"refresh_token\"\u003c/code\u003e. Write it down (\u003ccode\u003eREFRESH_TOKEN\u003c/code\u003e)\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"uploading-the-file\"\u003eUploading the File\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#uploading-the-file\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eGet an up-to-date access token\n\u003cpre class=\"language-sh\"\u003e\u003ccode class=\"language-sh\"\u003ecurl https://api.dropbox.com/oauth2/token \\\n     -d grant_type=refresh_token \\\n     -d refresh_token=\u0026#x3C;REFRESH_TOKEN\u003e \\\n     -u \u0026#x3C;APP_KEY\u003e:\u0026#x3C;APP_SECRET\u003e\n\u003c/code\u003e\u003c/pre\u003e\nThe access token will be returned at the JSON key \u003ccode\u003e\"access_token\"\u003c/code\u003e. Write it down (\u003ccode\u003eACCESS_TOKEN\u003c/code\u003e).\u003c/li\u003e\n\u003cli\u003eUpload the file\n\u003cpre class=\"language-sh\"\u003e\u003ccode class=\"language-sh\"\u003ecurl -X POST https://content.dropboxapi.com/2/files/upload \\\n     --header \"Authorization: Bearer \u0026#x3C;ACCESS_TOKEN\u003e\" \\\n     --header \"Dropbox-API-Arg: {\\\"path\\\":\\\"/Path/To/Dropbox/Destination\\\",\\\"mode\\\":\\\"overwrite\\\",\\\"mute\\\":true}\" \\\n     --header \"Content-Type: application/octet-stream\" \\\n     --data-binary @path/to/file/to/upload\n\u003c/code\u003e\u003c/pre\u003e\nYou can reuse the access token as long as it is valid\u003c/li\u003e\n\u003c/ul\u003e","noteIndex":{"id":"w4mxpqpj9ftyo6pw17k3wj6","title":"Home","desc":"","updated":1660372010574,"created":1648806032875,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":".","name":"digital-garden","selfContained":true},"contentHash":"0d5b5a84c07edaf83aeeab9a0b1a2b42","links":[{"type":"wiki","from":{"fname":"root","id":"w4mxpqpj9ftyo6pw17k3wj6","vaultName":"digital-garden"},"value":"contact_me","position":{"start":{"line":10,"column":55,"offset":331},"end":{"line":10,"column":69,"offset":345},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"contact_me"}},{"type":"wiki","from":{"fname":"root","id":"w4mxpqpj9ftyo6pw17k3wj6","vaultName":"digital-garden"},"value":"areas.gamedev","position":{"start":{"line":14,"column":3,"offset":402},"end":{"line":14,"column":20,"offset":419},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"areas.gamedev"}},{"type":"wiki","from":{"fname":"root","id":"w4mxpqpj9ftyo6pw17k3wj6","vaultName":"digital-garden"},"value":"areas.software-development","position":{"start":{"line":15,"column":3,"offset":422},"end":{"line":15,"column":33,"offset":452},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"areas.software-development"}},{"type":"wiki","from":{"fname":"root","id":"w4mxpqpj9ftyo6pw17k3wj6","vaultName":"digital-garden"},"value":"reference.faith-and-work","position":{"start":{"line":17,"column":5,"offset":517},"end":{"line":17,"column":33,"offset":545},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"reference.faith-and-work"}},{"type":"wiki","from":{"fname":"root","id":"w4mxpqpj9ftyo6pw17k3wj6","vaultName":"digital-garden"},"value":"reference.adhd","position":{"start":{"line":19,"column":3,"offset":583},"end":{"line":19,"column":21,"offset":601},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"reference.adhd"}},{"type":"wiki","from":{"fname":"root","id":"w4mxpqpj9ftyo6pw17k3wj6","vaultName":"digital-garden"},"value":"areas.pkm","alias":"Personal Knowledge Management (PKM)","position":{"start":{"line":20,"column":3,"offset":604},"end":{"line":20,"column":52,"offset":653},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"areas.pkm"}}],"anchors":{"welcome-to-my-little-corner-of-the-internet":{"type":"header","text":"Welcome to my little corner of the internet","value":"welcome-to-my-little-corner-of-the-internet","line":7,"column":0,"depth":1},"topics-i-care-about":{"type":"header","text":"Topics I care about","value":"topics-i-care-about","line":19,"column":0,"depth":2},"media-i-enjoy":{"type":"header","text":"Media I enjoy","value":"media-i-enjoy","line":28,"column":0,"depth":2}},"children":["ckpt5dqzm4fv2ysnyyqi5q7","qexkgwym6yebjwrl1pz2wco","contact_me","gk4xjszil72ursnl10ui5ht","tu102fn6psvc3ef33p2jl5p","426vv89cwpwrk3pezm4idax","ceagbmx4k3i5sokhd3n8iyf","43bj5hyl41q0txr2e0rhcaw","sjq1fqcpyomz6hii19blfsh","krioclkr3atix89tw0300y8","5j5jqiz50loi24n5r18y9kd","hn6qnp0te5vs8l76eik6o4c"],"parent":null,"data":{},"body":"# Welcome to my little corner of the internet\n\nHey, everyone!\n\nI'm Kevin and this page is my own shot at a Digital Garden[^1].\n\nThis is a low-barrier[^2] experiment for myself to organize my thoughts and publish content and maybe find like-minded\nindividuals to connect with.\n\nThis space will slowly evolve over time. Feel free to [[contact_me]] if you want to get in touch.\n\n\n## Topics I care about\n- [[areas.gamedev]]\n- [[areas.software-development]]\n- Christian Faith and how it relates to several other areas\n  - [[reference.faith-and-work]]\n  - Faith and Creativity/Art/Media\n- [[reference.adhd]]\n- [[Personal Knowledge Management (PKM)|areas.pkm]]\n\n## Media I enjoy\n- 🇯🇵 Anime/Manga\n  - Steins;Gate\n  - Attack on Titan\n  - Death Note\n- 📺 TV Series\n  - Twelve Monkeys\n  - Dark\n  - Deep Space 9\n- 🎥 Movies\n  - Big Fish\n  - Memento\n- 📖 Books\n  - Das Haus der Geschichten (Thomas Franke)\n  - The Screwtape Letters (C.S. Lewis)\n- 🎮 Video Games\n  - Secret of Mana (SNES)\n  - Outer Wilds\n  - Undertale\n\n\n[^1]: I recommend the explanation on [Joschua's Garden](https://joschuasgarden.com/Digital+garden) and his digital garden in general.\n\n[^2]: I personally thought several times about starting a blog for sharing game development, software engineering tidbits/ramblings but my tendency for perfectionism especially with regard to minor details like names, design, style as well as the perceived pressure of having to regularly output some kind of meaningful content stopped me from actually going through with it until now.\n"},"collectionChildren":null,"customHeadContent":"\u003clink rel=\"alternate\" type=\"application/atom+xml\" href=\"https://kfischer-okarin.github.io/digital-garden/feed.xml\"\u003e\n","config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":true,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"enableFullHierarchyNoteTitle":false,"vaults":[{"fsPath":".","name":"digital-garden","selfContained":true}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":false,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800},"preview":{"enableFMTitle":false,"enableNoteTitleForLink":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false},"publishing":{"siteUrl":"https://kfischer-okarin.github.io","assetsPrefix":"/digital-garden","customHeaderPath":"header.html","enableFMTitle":false,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"My Digital Garden","description":"Kevin Fischer's Digital Garden.","author":"Kevin Fischer"},"github":{"enableEditLink":false,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enablePrettyLinks":true,"enableTaskNotes":true,"searchMode":"lookup","siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"ry9md2mwrea2w43pn4czmws"},"buildId":"ZHTExSfdYZOrTr6Qnkw5j","assetPrefix":"/digital-garden","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>