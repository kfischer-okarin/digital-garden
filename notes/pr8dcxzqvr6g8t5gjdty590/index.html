<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/digital-garden/favicon.ico"/><title>Implementing Domain Driven Design</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Kevin Fischer&#x27;s Digital Garden."/><meta property="og:title" content="Implementing Domain Driven Design"/><meta property="og:description" content="Kevin Fischer&#x27;s Digital Garden."/><meta property="og:url" content="https://kfischer-okarin.github.io/digital-garden/notes/pr8dcxzqvr6g8t5gjdty590/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="7/16/2022"/><meta property="article:modified_time" content="8/19/2022"/><link rel="canonical" href="https://kfischer-okarin.github.io/digital-garden/notes/pr8dcxzqvr6g8t5gjdty590/"/><link rel="alternate" type="application/atom+xml" href="https://kfischer-okarin.github.io/digital-garden/feed.xml"/><meta name="next-head-count" content="15"/><link rel="preload" href="/digital-garden/_next/static/css/caa87292aeb9e4dd.css" as="style"/><link rel="stylesheet" href="/digital-garden/_next/static/css/caa87292aeb9e4dd.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/digital-garden/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/digital-garden/_next/static/chunks/webpack-9b44dd033dc5a33d.js" defer=""></script><script src="/digital-garden/_next/static/chunks/framework-28c999baf2863c3d.js" defer=""></script><script src="/digital-garden/_next/static/chunks/main-84ee3c869fba1bf0.js" defer=""></script><script src="/digital-garden/_next/static/chunks/pages/_app-3bf77397468264ea.js" defer=""></script><script src="/digital-garden/_next/static/chunks/935-4dee79e80b8641c6.js" defer=""></script><script src="/digital-garden/_next/static/chunks/6-50972def09142ee2.js" defer=""></script><script src="/digital-garden/_next/static/chunks/pages/notes/%5Bid%5D-78d472fa3b924116.js" defer=""></script><script src="/digital-garden/_next/static/ZHTExSfdYZOrTr6Qnkw5j/_buildManifest.js" defer=""></script><script src="/digital-garden/_next/static/ZHTExSfdYZOrTr6Qnkw5j/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><main class="ant-layout-content side-layout-main" style="max-width:1200px;min-width:0;display:block"><div style="padding:0 24px"><div class="main-content" role="main"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="implementing-domain-driven-design-vaughn-vernon">Implementing Domain Driven Design (Vaughn Vernon)<a aria-hidden="true" class="anchor-heading icon-link" href="#implementing-domain-driven-design-vaughn-vernon"></a></h1>
<p><img src="https://m.media-amazon.com/images/P/0321834577.01._SCLZZZZZZZ_SX500_.jpg" alt="Book cover" style="height:200px;;"></p>
<p><a href="https://www.amazon.com/Implementing-Domain-Driven-Design-Vaughn-Vernon/dp/0321834577">Amazon</a></p>
<h2 id="my-summary">My Summary<a aria-hidden="true" class="anchor-heading icon-link" href="#my-summary"></a></h2>
<hr>
<h2 id="entity">Entity<a aria-hidden="true" class="anchor-heading icon-link" href="#entity"></a></h2>
<ul>
<li>Something that changes over time</li>
</ul>
<h2 id="value-objects">Value Objects<a aria-hidden="true" class="anchor-heading icon-link" href="#value-objects"></a></h2>
<ul>
<li>Value object is a description of something</li>
<li>Use Value objects where possible</li>
<li>If it has to change... think if it's possible to "replace" it instead</li>
<li>Separate it from the Persistence layer!
<ul>
<li>Sometimes you have to store it as records - but don't let that influence your domain model</li>
</ul>
</li>
</ul>
<h2 id="domain-service">Domain Service<a aria-hidden="true" class="anchor-heading icon-link" href="#domain-service"></a></h2>
<ul>
<li>Calculation process
<ul>
<li>Involving several aggregrates</li>
<li>Using repositories</li>
</ul>
</li>
<li>Transformation processes
<ul>
<li>See Adapters, Ports (Hexagonal Architecture) in Integrating Contexts</li>
</ul>
</li>
</ul>
<h2 id="domain-events">Domain Events<a aria-hidden="true" class="anchor-heading icon-link" href="#domain-events"></a></h2>
<ul>
<li>When something important happens publish a domain event
<ul>
<li>Immutable</li>
<li>Contains timestamp</li>
<li>Contains all necessary information to re-execute the same action (the ids of the involved aggregates)</li>
</ul>
</li>
<li>Event Store: Store it in a special db table/list
<ul>
<li>Must be in the same transaction as the actual change happening</li>
<li>have message publisher read that store to process/publish events</li>
</ul>
</li>
<li>Publishing events
<ul>
<li>Event Endpoint
<ul>
<li>Like an Atom Feed</li>
<li>Use constant URLs for certain event ranges (e.g. /events/60,79) and make effective use of caching</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="aggregates">Aggregates<a aria-hidden="true" class="anchor-heading icon-link" href="#aggregates"></a></h2>
<ul>
<li>Aggregates = Groups of Entities and Value objects accessed via a common interface (the Root Entity)</li>
<li>Internal construction, value modifications should be hidden inside Root method implementations</li>
<li>Each aggregate is a transactional boundary:
<ul>
<li>Everything that must change together should be inside one aggregate</li>
</ul>
</li>
<li>Build as small aggregates as possible!!!</li>
<li>Reference other aggregates only via id</li>
<li>If other Aggregates need to change in response to an aggregate changing do it asynchronously
<ul>
<li>Use eventually consistency where possible. Transactional boundaries are often smaller than one thinks!
<ul>
<li>Does it really need to be 100% immediately consistent?</li>
<li>Imagine how the business would happen without the application... Just transmitting the information to the next
workflow would take some time</li>
</ul>
</li>
<li>Publish an event from Aggregate A &#x26; subscribe to it from the other Aggregates</li>
</ul>
</li>
</ul>
<h2 id="factories">Factories<a aria-hidden="true" class="anchor-heading icon-link" href="#factories"></a></h2>
<ul>
<li>Factory methods on Aggregate classes to create related aggregates
<ul>
<li>Use this to create internally consistent objects (like with the correct association which should not be left
to the client)
<ul>
<li>Ensure that the object has the correct parent etc</li>
</ul>
</li>
<li>Use method names that express real use cases in the language</li>
<li><code>Forum.start_discussion</code>, <code>Tenant.register_user</code> etc</li>
</ul>
</li>
<li>Factory Methods on Services that integrate other contexts
<ul>
<li>Example: A Service that encapsulates the connection to the Authentication Context, which creates Author, Creator,
Moderator, etc objects</li>
</ul>
</li>
</ul>
<h2 id="repositories">Repositories<a aria-hidden="true" class="anchor-heading icon-link" href="#repositories"></a></h2>
<ul>
<li>Stores Aggregates behind a in memory collection interface</li>
<li>Collection style stores
<ul>
<li>No explicit save calls but one of:
<ul>
<li>Track changes and then at some point later persist them</li>
<li>Wrap the returned object in a persistence backed decorator</li>
</ul>
</li>
<li>Adding means storing</li>
</ul>
</li>
<li>Persistence style stores
<ul>
<li>Explicit save calls</li>
</ul>
</li>
<li>Collection style is preferable but not always feasible</li>
</ul>
<h2 id="integrating-bounded-contexts">Integrating Bounded Contexts<a aria-hidden="true" class="anchor-heading icon-link" href="#integrating-bounded-contexts"></a></h2>
<ul>
<li>When using message services - make your event handlers idempotent if any possible - since a message could always be
delivered several times</li>
</ul>
<h2 id="ui">UI<a aria-hidden="true" class="anchor-heading icon-link" href="#ui"></a></h2>
<ul>
<li>Should manipulate <strong>one</strong> aggregate at a time (aggregate == transaction boundary)</li>
<li>Might need several aggregates for context</li>
<li>When you use Rest Resources (or any kind of data representation for the UI) then design them around use cases <strong>not</strong>
around the actual aggregates
<ul>
<li>Keep UI and data structures decoupled</li>
</ul>
</li>
</ul>
<h2 id="application-service">Application service<a aria-hidden="true" class="anchor-heading icon-link" href="#application-service"></a></h2>
<ul>
<li>Used by the UI to actually do things</li>
<li>Uses domain services to realize the use cases</li>
<li>Think about outgoing interfaces:
<ul>
<li>Do you want to expose domain models (i.e. add dependencies to it) as return types etc?</li>
<li>Or do you want the overhead of DTOs?</li>
</ul>
</li>
<li>Can be used to integrate several contexts for UI but if this is repeatedly happening and starting to contain some
logic you should think about possibly extracting a new downstream context</li>
</ul>
<h2 id="infrastructure">Infrastructure<a aria-hidden="true" class="anchor-heading icon-link" href="#infrastructure"></a></h2>
<ul>
<li>Concrete implementations of interfaces for technical capabilities like storage, messaging etc</li>
<li>Injected into/passed to application services</li>
<li>Ports/Adapters in Hexagonal Design</li>
</ul>
<h2 id="event-sourcing">Event Sourcing<a aria-hidden="true" class="anchor-heading icon-link" href="#event-sourcing"></a></h2>
<ul>
<li>Store your whole data only as a collection of events that happened and reconstruct your aggregates (or for that
matter any kind of read representation) by processing all events so far</li>
<li>Events are immutable</li>
<li>Reading data structures should be cached (for example every 100 events) and are freely disposable</li>
<li>For events that are also consumed as domain events by listeners (possibly from other contexts) it might be smart to
include additional properties in the published event that are not explicitly needed to reconstruct the state to avoid
secondary queries for more information</li>
<li>Is natural to implement with functional programming
<ul>
<li>Aggregate + Event -> Aggregate</li>
<li>Aggregate + Command -> Event[]</li>
</ul>
</li>
</ul>
<hr>
<h2 id="my-questions-thoughts-comments">My Questions, Thoughts, Comments<a aria-hidden="true" class="anchor-heading icon-link" href="#my-questions-thoughts-comments"></a></h2></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#implementing-domain-driven-design-vaughn-vernon" title="Implementing Domain Driven Design (Vaughn Vernon)">Implementing Domain Driven Design (Vaughn Vernon)</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#my-summary" title="My Summary">My Summary</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#entity" title="Entity">Entity</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#value-objects" title="Value Objects">Value Objects</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#domain-service" title="Domain Service">Domain Service</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#domain-events" title="Domain Events">Domain Events</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#aggregates" title="Aggregates">Aggregates</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#factories" title="Factories">Factories</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#repositories" title="Repositories">Repositories</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#integrating-bounded-contexts" title="Integrating Bounded Contexts">Integrating Bounded Contexts</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#ui" title="UI">UI</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#application-service" title="Application service">Application service</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#infrastructure" title="Infrastructure">Infrastructure</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#event-sourcing" title="Event Sourcing">Event Sourcing</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#my-questions-thoughts-comments" title="My Questions, Thoughts, Comments">My Questions, Thoughts, Comments</a></div></div></div></div></div></div></div></div></div></div></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></main></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"pr8dcxzqvr6g8t5gjdty590","title":"Implementing Domain Driven Design","desc":"","updated":1660926280035,"created":1657942831470,"custom":{},"fname":"reference.literature-notes.implementing-domain-driven-design","type":"note","vault":{"fsPath":".","name":"digital-garden","selfContained":true},"contentHash":"e3bbf28aa8d0f665bd8deb8c0239897f","links":[],"anchors":{"implementing-domain-driven-design-vaughn-vernon":{"type":"header","text":"Implementing Domain Driven Design (Vaughn Vernon)","value":"implementing-domain-driven-design-vaughn-vernon","line":8,"column":0,"depth":1},"my-summary":{"type":"header","text":"My Summary","value":"my-summary","line":14,"column":0,"depth":2},"entity":{"type":"header","text":"Entity","value":"entity","line":18,"column":0,"depth":2},"value-objects":{"type":"header","text":"Value Objects","value":"value-objects","line":21,"column":0,"depth":2},"domain-service":{"type":"header","text":"Domain Service","value":"domain-service","line":29,"column":0,"depth":2},"domain-events":{"type":"header","text":"Domain Events","value":"domain-events","line":36,"column":0,"depth":2},"aggregates":{"type":"header","text":"Aggregates","value":"aggregates","line":49,"column":0,"depth":2},"factories":{"type":"header","text":"Factories","value":"factories","line":63,"column":0,"depth":2},"repositories":{"type":"header","text":"Repositories","value":"repositories","line":75,"column":0,"depth":2},"integrating-bounded-contexts":{"type":"header","text":"Integrating Bounded Contexts","value":"integrating-bounded-contexts","line":86,"column":0,"depth":2},"ui":{"type":"header","text":"UI","value":"ui","line":90,"column":0,"depth":2},"application-service":{"type":"header","text":"Application service","value":"application-service","line":97,"column":0,"depth":2},"infrastructure":{"type":"header","text":"Infrastructure","value":"infrastructure","line":106,"column":0,"depth":2},"event-sourcing":{"type":"header","text":"Event Sourcing","value":"event-sourcing","line":111,"column":0,"depth":2},"my-questions-thoughts-comments":{"type":"header","text":"My Questions, Thoughts, Comments","value":"my-questions-thoughts-comments","line":126,"column":0,"depth":2}},"children":[],"parent":"3py39wn744dk1jzjl6onij3","data":{},"schema":{"schemaId":"j6hkamrk5ztc409qoxyb4jn","moduleId":"reference"}},"body":"\u003ch1 id=\"implementing-domain-driven-design-vaughn-vernon\"\u003eImplementing Domain Driven Design (Vaughn Vernon)\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#implementing-domain-driven-design-vaughn-vernon\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cp\u003e\u003cimg src=\"https://m.media-amazon.com/images/P/0321834577.01._SCLZZZZZZZ_SX500_.jpg\" alt=\"Book cover\" style=\"height:200px;;\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.amazon.com/Implementing-Domain-Driven-Design-Vaughn-Vernon/dp/0321834577\"\u003eAmazon\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"my-summary\"\u003eMy Summary\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#my-summary\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003chr\u003e\n\u003ch2 id=\"entity\"\u003eEntity\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#entity\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eSomething that changes over time\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"value-objects\"\u003eValue Objects\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#value-objects\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eValue object is a description of something\u003c/li\u003e\n\u003cli\u003eUse Value objects where possible\u003c/li\u003e\n\u003cli\u003eIf it has to change... think if it's possible to \"replace\" it instead\u003c/li\u003e\n\u003cli\u003eSeparate it from the Persistence layer!\n\u003cul\u003e\n\u003cli\u003eSometimes you have to store it as records - but don't let that influence your domain model\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"domain-service\"\u003eDomain Service\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#domain-service\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eCalculation process\n\u003cul\u003e\n\u003cli\u003eInvolving several aggregrates\u003c/li\u003e\n\u003cli\u003eUsing repositories\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eTransformation processes\n\u003cul\u003e\n\u003cli\u003eSee Adapters, Ports (Hexagonal Architecture) in Integrating Contexts\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"domain-events\"\u003eDomain Events\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#domain-events\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eWhen something important happens publish a domain event\n\u003cul\u003e\n\u003cli\u003eImmutable\u003c/li\u003e\n\u003cli\u003eContains timestamp\u003c/li\u003e\n\u003cli\u003eContains all necessary information to re-execute the same action (the ids of the involved aggregates)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eEvent Store: Store it in a special db table/list\n\u003cul\u003e\n\u003cli\u003eMust be in the same transaction as the actual change happening\u003c/li\u003e\n\u003cli\u003ehave message publisher read that store to process/publish events\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003ePublishing events\n\u003cul\u003e\n\u003cli\u003eEvent Endpoint\n\u003cul\u003e\n\u003cli\u003eLike an Atom Feed\u003c/li\u003e\n\u003cli\u003eUse constant URLs for certain event ranges (e.g. /events/60,79) and make effective use of caching\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"aggregates\"\u003eAggregates\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#aggregates\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eAggregates = Groups of Entities and Value objects accessed via a common interface (the Root Entity)\u003c/li\u003e\n\u003cli\u003eInternal construction, value modifications should be hidden inside Root method implementations\u003c/li\u003e\n\u003cli\u003eEach aggregate is a transactional boundary:\n\u003cul\u003e\n\u003cli\u003eEverything that must change together should be inside one aggregate\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eBuild as small aggregates as possible!!!\u003c/li\u003e\n\u003cli\u003eReference other aggregates only via id\u003c/li\u003e\n\u003cli\u003eIf other Aggregates need to change in response to an aggregate changing do it asynchronously\n\u003cul\u003e\n\u003cli\u003eUse eventually consistency where possible. Transactional boundaries are often smaller than one thinks!\n\u003cul\u003e\n\u003cli\u003eDoes it really need to be 100% immediately consistent?\u003c/li\u003e\n\u003cli\u003eImagine how the business would happen without the application... Just transmitting the information to the next\nworkflow would take some time\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003ePublish an event from Aggregate A \u0026#x26; subscribe to it from the other Aggregates\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"factories\"\u003eFactories\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#factories\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eFactory methods on Aggregate classes to create related aggregates\n\u003cul\u003e\n\u003cli\u003eUse this to create internally consistent objects (like with the correct association which should not be left\nto the client)\n\u003cul\u003e\n\u003cli\u003eEnsure that the object has the correct parent etc\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eUse method names that express real use cases in the language\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eForum.start_discussion\u003c/code\u003e, \u003ccode\u003eTenant.register_user\u003c/code\u003e etc\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eFactory Methods on Services that integrate other contexts\n\u003cul\u003e\n\u003cli\u003eExample: A Service that encapsulates the connection to the Authentication Context, which creates Author, Creator,\nModerator, etc objects\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"repositories\"\u003eRepositories\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#repositories\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eStores Aggregates behind a in memory collection interface\u003c/li\u003e\n\u003cli\u003eCollection style stores\n\u003cul\u003e\n\u003cli\u003eNo explicit save calls but one of:\n\u003cul\u003e\n\u003cli\u003eTrack changes and then at some point later persist them\u003c/li\u003e\n\u003cli\u003eWrap the returned object in a persistence backed decorator\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eAdding means storing\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003ePersistence style stores\n\u003cul\u003e\n\u003cli\u003eExplicit save calls\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eCollection style is preferable but not always feasible\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"integrating-bounded-contexts\"\u003eIntegrating Bounded Contexts\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#integrating-bounded-contexts\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eWhen using message services - make your event handlers idempotent if any possible - since a message could always be\ndelivered several times\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"ui\"\u003eUI\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#ui\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eShould manipulate \u003cstrong\u003eone\u003c/strong\u003e aggregate at a time (aggregate == transaction boundary)\u003c/li\u003e\n\u003cli\u003eMight need several aggregates for context\u003c/li\u003e\n\u003cli\u003eWhen you use Rest Resources (or any kind of data representation for the UI) then design them around use cases \u003cstrong\u003enot\u003c/strong\u003e\naround the actual aggregates\n\u003cul\u003e\n\u003cli\u003eKeep UI and data structures decoupled\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"application-service\"\u003eApplication service\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#application-service\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eUsed by the UI to actually do things\u003c/li\u003e\n\u003cli\u003eUses domain services to realize the use cases\u003c/li\u003e\n\u003cli\u003eThink about outgoing interfaces:\n\u003cul\u003e\n\u003cli\u003eDo you want to expose domain models (i.e. add dependencies to it) as return types etc?\u003c/li\u003e\n\u003cli\u003eOr do you want the overhead of DTOs?\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eCan be used to integrate several contexts for UI but if this is repeatedly happening and starting to contain some\nlogic you should think about possibly extracting a new downstream context\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"infrastructure\"\u003eInfrastructure\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#infrastructure\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eConcrete implementations of interfaces for technical capabilities like storage, messaging etc\u003c/li\u003e\n\u003cli\u003eInjected into/passed to application services\u003c/li\u003e\n\u003cli\u003ePorts/Adapters in Hexagonal Design\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"event-sourcing\"\u003eEvent Sourcing\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#event-sourcing\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eStore your whole data only as a collection of events that happened and reconstruct your aggregates (or for that\nmatter any kind of read representation) by processing all events so far\u003c/li\u003e\n\u003cli\u003eEvents are immutable\u003c/li\u003e\n\u003cli\u003eReading data structures should be cached (for example every 100 events) and are freely disposable\u003c/li\u003e\n\u003cli\u003eFor events that are also consumed as domain events by listeners (possibly from other contexts) it might be smart to\ninclude additional properties in the published event that are not explicitly needed to reconstruct the state to avoid\nsecondary queries for more information\u003c/li\u003e\n\u003cli\u003eIs natural to implement with functional programming\n\u003cul\u003e\n\u003cli\u003eAggregate + Event -\u003e Aggregate\u003c/li\u003e\n\u003cli\u003eAggregate + Command -\u003e Event[]\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"my-questions-thoughts-comments\"\u003eMy Questions, Thoughts, Comments\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#my-questions-thoughts-comments\"\u003e\u003c/a\u003e\u003c/h2\u003e","noteIndex":{"id":"w4mxpqpj9ftyo6pw17k3wj6","title":"Home","desc":"","updated":1660372010574,"created":1648806032875,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":".","name":"digital-garden","selfContained":true},"contentHash":"0d5b5a84c07edaf83aeeab9a0b1a2b42","links":[{"type":"wiki","from":{"fname":"root","id":"w4mxpqpj9ftyo6pw17k3wj6","vaultName":"digital-garden"},"value":"contact_me","position":{"start":{"line":10,"column":55,"offset":331},"end":{"line":10,"column":69,"offset":345},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"contact_me"}},{"type":"wiki","from":{"fname":"root","id":"w4mxpqpj9ftyo6pw17k3wj6","vaultName":"digital-garden"},"value":"areas.gamedev","position":{"start":{"line":14,"column":3,"offset":402},"end":{"line":14,"column":20,"offset":419},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"areas.gamedev"}},{"type":"wiki","from":{"fname":"root","id":"w4mxpqpj9ftyo6pw17k3wj6","vaultName":"digital-garden"},"value":"areas.software-development","position":{"start":{"line":15,"column":3,"offset":422},"end":{"line":15,"column":33,"offset":452},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"areas.software-development"}},{"type":"wiki","from":{"fname":"root","id":"w4mxpqpj9ftyo6pw17k3wj6","vaultName":"digital-garden"},"value":"reference.faith-and-work","position":{"start":{"line":17,"column":5,"offset":517},"end":{"line":17,"column":33,"offset":545},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"reference.faith-and-work"}},{"type":"wiki","from":{"fname":"root","id":"w4mxpqpj9ftyo6pw17k3wj6","vaultName":"digital-garden"},"value":"reference.adhd","position":{"start":{"line":19,"column":3,"offset":583},"end":{"line":19,"column":21,"offset":601},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"reference.adhd"}},{"type":"wiki","from":{"fname":"root","id":"w4mxpqpj9ftyo6pw17k3wj6","vaultName":"digital-garden"},"value":"areas.pkm","alias":"Personal Knowledge Management (PKM)","position":{"start":{"line":20,"column":3,"offset":604},"end":{"line":20,"column":52,"offset":653},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"areas.pkm"}}],"anchors":{"welcome-to-my-little-corner-of-the-internet":{"type":"header","text":"Welcome to my little corner of the internet","value":"welcome-to-my-little-corner-of-the-internet","line":7,"column":0,"depth":1},"topics-i-care-about":{"type":"header","text":"Topics I care about","value":"topics-i-care-about","line":19,"column":0,"depth":2},"media-i-enjoy":{"type":"header","text":"Media I enjoy","value":"media-i-enjoy","line":28,"column":0,"depth":2}},"children":["ckpt5dqzm4fv2ysnyyqi5q7","qexkgwym6yebjwrl1pz2wco","contact_me","gk4xjszil72ursnl10ui5ht","tu102fn6psvc3ef33p2jl5p","426vv89cwpwrk3pezm4idax","ceagbmx4k3i5sokhd3n8iyf","43bj5hyl41q0txr2e0rhcaw","sjq1fqcpyomz6hii19blfsh","krioclkr3atix89tw0300y8","5j5jqiz50loi24n5r18y9kd","hn6qnp0te5vs8l76eik6o4c"],"parent":null,"data":{},"body":"# Welcome to my little corner of the internet\n\nHey, everyone!\n\nI'm Kevin and this page is my own shot at a Digital Garden[^1].\n\nThis is a low-barrier[^2] experiment for myself to organize my thoughts and publish content and maybe find like-minded\nindividuals to connect with.\n\nThis space will slowly evolve over time. Feel free to [[contact_me]] if you want to get in touch.\n\n\n## Topics I care about\n- [[areas.gamedev]]\n- [[areas.software-development]]\n- Christian Faith and how it relates to several other areas\n  - [[reference.faith-and-work]]\n  - Faith and Creativity/Art/Media\n- [[reference.adhd]]\n- [[Personal Knowledge Management (PKM)|areas.pkm]]\n\n## Media I enjoy\n- 🇯🇵 Anime/Manga\n  - Steins;Gate\n  - Attack on Titan\n  - Death Note\n- 📺 TV Series\n  - Twelve Monkeys\n  - Dark\n  - Deep Space 9\n- 🎥 Movies\n  - Big Fish\n  - Memento\n- 📖 Books\n  - Das Haus der Geschichten (Thomas Franke)\n  - The Screwtape Letters (C.S. Lewis)\n- 🎮 Video Games\n  - Secret of Mana (SNES)\n  - Outer Wilds\n  - Undertale\n\n\n[^1]: I recommend the explanation on [Joschua's Garden](https://joschuasgarden.com/Digital+garden) and his digital garden in general.\n\n[^2]: I personally thought several times about starting a blog for sharing game development, software engineering tidbits/ramblings but my tendency for perfectionism especially with regard to minor details like names, design, style as well as the perceived pressure of having to regularly output some kind of meaningful content stopped me from actually going through with it until now.\n"},"collectionChildren":null,"customHeadContent":"\u003clink rel=\"alternate\" type=\"application/atom+xml\" href=\"https://kfischer-okarin.github.io/digital-garden/feed.xml\"\u003e\n","config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":true,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"enableFullHierarchyNoteTitle":false,"vaults":[{"fsPath":".","name":"digital-garden","selfContained":true}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":false,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800},"preview":{"enableFMTitle":false,"enableNoteTitleForLink":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false},"publishing":{"siteUrl":"https://kfischer-okarin.github.io","assetsPrefix":"/digital-garden","customHeaderPath":"header.html","enableFMTitle":false,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"My Digital Garden","description":"Kevin Fischer's Digital Garden.","author":"Kevin Fischer"},"github":{"enableEditLink":false,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enablePrettyLinks":true,"enableTaskNotes":true,"searchMode":"lookup","siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"pr8dcxzqvr6g8t5gjdty590"},"buildId":"ZHTExSfdYZOrTr6Qnkw5j","assetPrefix":"/digital-garden","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>